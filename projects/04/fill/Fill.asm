(READ_KEYBOARD)
@KBD
D=M
@SET_COLOR_FLAG_WHITE
D;JEQ
@SET_COLOR_FLAG_BLACK
0;JMP

(PAINT_SCR)
@16384
D=A
@first_scr
M=D
@24575
D=A
@i
M=D
(LOOP)
@color_flag
D=M
@i
A=M
M=D
@i
M=M-1
@first_scr
D=M
@i
D=M-D
@LOOP
D;JGT

@READ_KEYBOARD
0;JMP

(SET_COLOR_FLAG_WHITE)
@color_flag
M=0
@PAINT_SCR
0;JMP

(SET_COLOR_FLAG_BLACK)
@color_flag
M=-1
@PAINT_SCR
0;JMP